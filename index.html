<!DOCTYPE html>
<html>
  <head>
    <title>Mental Health Tracker</title>

    <style>
      body {
        font-family: Arial, sans-serif;
        background-color: #f4f4f4;
        margin: 0;
        padding: 0;
      }

      #welcome {
        text-align: center;
        margin-top: 10vh;
      }

      h1 {
        font-size: 8vh;
      }

      #feeling {
        margin-top: 1vh;
        width: 50%;
        position: relative;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        
      }

      input[type="radio"] {
        display: none;
      }

      label {
        display: inline-block;
        font-size: 9vh;
        margin: 0.5vh;
        cursor: pointer;
      }

      input[type="radio"]:checked + label {
        background-color: #96a1e9;
        border-radius: 50%;
      }

      #confirm-feeling{
        margin-top: 5vh;
        padding: 0.5vw 1vh;
        font-size: 4vh;
        background-color: #6868cf;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
      }

      #confirm-feeling:hover {
        background-color: #4f4f9f;
      }

        #describe-feelings {
            display: none;
            text-align: center;
            margin-top: 18vh;
        }

        #describe-feelings, #describe-feelings input[type="text"], #describe-reason input[type="text"], #describe-reason textarea , #describe-reason{
            font-size: 8vw;
        }

        .feeling {
            font-size: 10vh;
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            margin: 1vw 1vh;
        }

    </style>
  </head>
  <body>
    <div class="feeling"></div>
    <div id="welcome">
        <h1>Hello! How are you feeling today</h1>
        <!-- let user choose an emoji to represent how they feel -->
        <div id="feeling">
            <input type="radio" id="happy" name="feeling" value="happy">
            <label for="happy">😊</label>
            <input type="radio" id="sad" name="feeling" value="sad">
            <label for="sad">😢</label>
            <input type="radio" id="angry" name="feeling" value="angry">
            <label for="angry">😡</label>
            <input type="radio" id="anxious" name="feeling" value="anxious">
            <label for="anxious">😨</label>
            <input type="radio" id="tired" name="feeling" value="tired">
            <label for="tired">😴</label>
            <input type="radio" id="excited" name="feeling" value="excited">
            <label for="excited">😄</label>
            <input type="radio" id="stressed" name="feeling" value="stressed">
            <label for="stressed">😖</label>
            <input type="radio" id="calm" name="feeling" value="calm">
            <label for="calm">😌</label>
            <input type="radio" id="confused" name="feeling" value="confused">
            <label for="confused">😕</label>
            <input type="radio" id="frustrated" name="feeling" value="frustrated">
            <label for="frustrated">😤</label>
            <input type="radio" id="lonely" name="feeling" value="lonely">
            <label for="lonely">😔</label>
            <input type="radio" id="overwhelmed" name="feeling" value="overwhelmed">
            <label for="overwhelmed">😰</label>
            <input type="radio" id="hopeful" name="feeling" value="hopeful">
            <label for="hopeful">😊</label>
            <input type="radio" id="bored" name="feeling" value="bored">
            <label for="bored">😐</label>
            <input type="radio" id="grateful" name="feeling" value="grateful">
            <label for="grateful">🙏</label>
            <input type="radio" id="motivated" name="feeling" value="motivated">
            <label for="motivated">😃</label>
            <input type="radio" id="relieved" name="feeling" value="relieved">
            <label for="relieved">😅</label>
            <input type="radio" id="sick" name="feeling" value="sick">
            <label for="sick">🤢</label>
            <input type="radio" id="shocked" name="feeling" value="shocked">
            <label for="shocked">😲</label>
            <input type="radio" id="worried" name="feeling" value="worried">
            <label for="worried">😟</label>
        </div>
        <button id="confirm-feeling">Next</button>
    </div>

    <div id="describe-feelings" style="display: none;">
        <h1>Describe your feelings in 1-3 words</h1>
        <input type="text" id="description" placeholder="excited, hopeful, motivated...">
    </div>

    <div id="describe-reason" style="display: none;">

    </div>

    <script>
        /*
        * First, User enters their feelings by selecting an emoji
        * Then, enters 1 to 3 words to describe their feelings 
        * Then, write why/what makes them feel that way, what is on their mind
        * Finally, they submit it and it is stored in the local storage
        * 
        * The data will be stored in the local storage in the following format:
        * {
        *  date: '2021-01-01',
        *  feeling: '😊',
        *  description: 'excited, hopeful, motivated',
        *  reason: 'I got a new job'
        * }
        */

        // get the confirm button
        const confirmFeeling = document.getElementById('confirm-feeling');
        // get all the radio buttons
        const radioButtons = document.querySelectorAll('input[type="radio"]');
        // get the emoji that the user selects
        let feeling = '';

        // local storage
        const storage = window.localStorage;

        // load the data from the local storage
        const log = JSON.parse(storage.getItem('log')) || [];

        // add event listener to the confirm button
        confirmFeeling.addEventListener('click', () => {
            // loop through all the radio buttons
            radioButtons.forEach(radio => {
                // check if the radio button is checked
                if (radio.checked) {
                    // get next child
                    feeling = radio.nextElementSibling.innerHTML;
                }

            });

            // if the user has not selected an emoji, alert them
            if (!feeling) {
                    alert('Please select an emoji to represent how you feel');
                    return;
                }else{
                    // hide the feeling div
                    document.getElementById('welcome').style.display = 'none';
                    // show the describe feelings div
                    document.getElementById('describe-feelings').style.display = 'block';

                    // replace the feeling in the h1 tag
                    for(let feeling_span of document.querySelectorAll('.feeling')){
                        feeling_span.innerHTML = feeling;
                    }
                }
        });
        
    </script>
  </body>